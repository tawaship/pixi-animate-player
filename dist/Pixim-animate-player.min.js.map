{"version":3,"file":"Pixim-animate-player.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/pixim/Player.ts","../src/common/global.ts","../src/common/core.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v1.0.11\n * \n * @require pixi.js v5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport { Container, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\n\n/**\r\n * @private\r\n */\r\nfunction createOriginParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regx: 0,\r\n        regy: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createPixiData(regObj) {\r\n    return {\r\n        regObj,\r\n        events: {}\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(self, e) {\r\n    const list = self.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/StageGL.html\r\n */\r\nclass CreatejsStageGL extends window.createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n    }\r\n}\n\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst EventMap = {\r\n\tmousedown: {\r\n\t\ttypes: ['pointerdown'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tmouseup: {\r\n\t\ttypes: ['pointerup'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t*/\r\n\trollover: {\r\n\t\ttypes: ['pointerover'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\trollout: {\r\n\t\ttypes: ['pointerout'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressmove:{\r\n\t\ttypes: ['pointermove'],\r\n\t\tfactory:  function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressup: {\r\n\t\ttypes: ['pointerup', 'pointeupoutside'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = false;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst appendixDescriptor = {\r\n\tx: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.x;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\treturn this._originParams.x = value;\r\n\t\t}\r\n\t},\r\n\ty: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.y;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\treturn this._originParams.y = value;\r\n\t\t}\r\n\t},\r\n\tscaleX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\treturn this._originParams.scaleX = value;\r\n\t\t}\r\n\t},\r\n\tscaleY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\treturn this._originParams.scaleY = value;\r\n\t\t}\r\n\t},\r\n\tskewX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewX = value;\r\n\t\t}\r\n\t},\r\n\tskewY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewY = value;\r\n\t\t}\r\n\t\r\n\t},\r\n\tregX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\treturn this._originParams.regX = value;\r\n\t\t}\r\n\t},\r\n\tregY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\treturn this._originParams.regY = value;\r\n\t\t}\r\n\t},\r\n\trotation: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.rotation;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.rotation = value;\r\n\t\t}\r\n\t},\r\n\tvisible: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.visible;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\treturn this._originParams.visible = value;\r\n\t\t}\r\n\t},\r\n\talpha: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.alpha;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\treturn this._originParams.alpha = value;\r\n\t\t}\r\n\t},\r\n\t_off: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams._off;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\treturn this._originParams._off = value;\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tdispatchEvent: {\r\n\t\tvalue: function(eventObj, bubbles, cancelable) {\r\n\t\t\tvar type = eventObj typeof 'string' ? eventObj : eventObj.type;\r\n\t\t\t\r\n\t\t\tthis._pixiData.instance.emit(type, eventObj);\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.dispatchEvent.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\t*/\r\n\taddEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (!(cb instanceof Function)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst func = ev.factory(this, cb);\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.events[t] = this._pixiData.events[t] || [];\r\n\t\t\t\t\tthis._pixiData.events[t].push({ func: func, origin: cb });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.instance.on(t, func);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.interactive = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.addEventListener.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tremoveEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst list = this._pixiData.events[t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (list) {\r\n\t\t\t\t\t\tfor (var j = list.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (list[j].origin === cb) {\r\n\t\t\t\t\t\t\t\tthis._pixiData.instance.off(t, list[j].func);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlist.splice(j, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\t\t\tdelete(this._pixiData.events[t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst res = window.createjs.DisplayObject.prototype.removeEventListener.apply(this, arguments);\r\n\t\t\t\r\n\t\t\tconst listeners = this._listeners;\r\n\t\t\tif (!listeners) {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i in EventMap) {\r\n\t\t\t\tif (!listeners[i]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (listeners[i].length > 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res;\r\n\t\t}\r\n\t},\r\n\tremoveAllEventListeners: {\r\n\t\tvalue: function(type) {\r\n\t\t\tthis._pixiData.instance.removeAllListeners(type);\r\n\t\t\tthis._pixi.instance.interactive = false;\r\n\t\t\tthis._pixiData.events = {};\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.removeAllEventListeners.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tmask: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.mask;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue._pixiData.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value._pixiData.instance;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', function() {\r\n\t\t\t\t\tthis.parent.addChild(value._pixiData.instance);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.mask = value;\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.filters;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (this._pixiData.subInstance) {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tconst list = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tconst f = value[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst m = new PIXI.filters.ColorMatrixFilter();\r\n\t\t\t\t\t\tm.matrix = [\r\n\t\t\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tlist.push(m);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar o = this._pixiData.instance;\r\n\t\t\t\t\tvar c = o.children;\r\n\t\t\t\t\tvar n = new PIXI.Container();\r\n\t\t\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new PIXI.Container());\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\to.addChild(n);\r\n\t\t\t\t\to._filterContainer = nc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.updateTransform();\r\n\t\t\t\t\tnc.calculateBounds();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\t\t\tconst x = b.x;\r\n\t\t\t\t\tconst y = b.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\t\t\tnc.children[i].x -= x;\r\n\t\t\t\t\t\tnc.children[i].y -= y;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (nc.children[i]._filterContainer) {\r\n\t\t\t\t\t\t\tnc.children[i]._filterContainer.cacheAsBitmap = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.x = x;\r\n\t\t\t\t\tn.y = y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.filters = list;\r\n\t\t\t\t\tnc.cacheAsBitmap = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (o._filterContainer) {\r\n\t\t\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\t\t\tconst n = nc.parent;\r\n\t\t\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\to.removeChildren();\r\n\t\t\t\t\t\to._filterContainer = null;\r\n\t\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnc.filters = null;\r\n\t\t\t\t\t\tnc.cacheAsBitmap = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.filters = value;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction appendDisplayObjectDescriptor(cls) {\r\n\tObject.defineProperties(cls.prototype, appendixDescriptor);\r\n}\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n * @private\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createMovieClipPixiData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsMovieClipTemp = window.createjs.MovieClip;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/MovieClip.html\r\n */\r\nclass CreatejsMovieClip extends window.createjs.MovieClip {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createMovieClipPixiData(this);\r\n        CreatejsMovieClipTemp.apply(this, arguments);\r\n    }\r\n    initialize() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createMovieClipPixiData(this);\r\n        return super.initialize(...arguments);\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child._pixiData.instance);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child._pixiData.instance, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child._pixiData.instance);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsMovieClip);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createMovieClipPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Sprite.html\r\n * @private\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createSpritePixiData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return Object.assign(createPixiData(pixi.anchor), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsSpriteTemp = window.createjs.Sprite;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Sprite.html\r\n */\r\nclass CreatejsSprite extends window.createjs.Sprite {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createSpritePixiData(this);\r\n        CreatejsSpriteTemp.apply(this, arguments);\r\n    }\r\n    initialize() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createSpritePixiData(this);\r\n        return super.initialize(...arguments);\r\n    }\r\n    gotoAndStop() {\r\n        super.gotoAndStop(...arguments);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsSprite);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createSpritePixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n * @private\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createShapePixiData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsShapeTemp = window.createjs.Shape;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Shape.html\r\n */\r\nclass CreatejsShape extends window.createjs.Shape {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createShapePixiData(this);\r\n        CreatejsShapeTemp.apply(this, arguments);\r\n    }\r\n    get graphics() {\r\n        return this._graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._graphics = value;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsShape);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createShapePixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Sprite.html\r\n * @private\r\n * @since 1.0.9\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createBitmapPixiData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return Object.assign(createPixiData(pixi.anchor), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Bitmap.html\r\n * @since 1.0.9\r\n */\r\nclass CreatejsBitmap extends window.createjs.Bitmap {\r\n    initialize() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createBitmapPixiData(this);\r\n        const res = super.initialize(...arguments);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsBitmap);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createBitmapPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Graphics.html\r\n * @private\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createGraphicsPixiData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD$1 = Math.PI / 180;\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsGraphicsTemp = window.createjs.Graphics;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Graphics.html\r\n */\r\nclass CreatejsGraphics extends window.createjs.Graphics {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createGraphicsPixiData(this);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n        CreatejsGraphicsTemp.apply(this, arguments);\r\n    }\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit: miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD$1);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\n// alias\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    curveTo: {\r\n        value: CreatejsGraphics.prototype.quadraticCurveTo\r\n    },\r\n    drawRect: {\r\n        value: CreatejsGraphics.prototype.rect\r\n    },\r\n    mt: {\r\n        value: CreatejsGraphics.prototype.moveTo\r\n    },\r\n    lt: {\r\n        value: CreatejsGraphics.prototype.lineTo\r\n    },\r\n    at: {\r\n        value: CreatejsGraphics.prototype.arcTo\r\n    },\r\n    bt: {\r\n        value: CreatejsGraphics.prototype.bezierCurveTo\r\n    },\r\n    qt: {\r\n        value: CreatejsGraphics.prototype.quadraticCurveTo\r\n    },\r\n    a: {\r\n        value: CreatejsGraphics.prototype.arc\r\n    },\r\n    r: {\r\n        value: CreatejsGraphics.prototype.rect\r\n    },\r\n    cp: {\r\n        value: CreatejsGraphics.prototype.closePath\r\n    },\r\n    c: {\r\n        value: CreatejsGraphics.prototype.clear\r\n    },\r\n    f: {\r\n        value: CreatejsGraphics.prototype.beginFill\r\n    },\r\n    ef: {\r\n        value: CreatejsGraphics.prototype.endFill\r\n    },\r\n    ss: {\r\n        value: CreatejsGraphics.prototype.setStrokeStyle\r\n    },\r\n    s: {\r\n        value: CreatejsGraphics.prototype.beginStroke\r\n    },\r\n    dr: {\r\n        value: CreatejsGraphics.prototype.drawRect\r\n    },\r\n    rr: {\r\n        value: CreatejsGraphics.prototype.drawRoundRect\r\n    },\r\n    dc: {\r\n        value: CreatejsGraphics.prototype.drawCircle\r\n    },\r\n    de: {\r\n        value: CreatejsGraphics.prototype.drawEllipse\r\n    },\r\n    dp: {\r\n        value: CreatejsGraphics.prototype.drawPolyStar\r\n    }\r\n});\r\nappendDisplayObjectDescriptor(CreatejsGraphics);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createGraphicsPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Text.html\r\n * @private\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n * @private\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createTextOriginParam(text, font, color) {\r\n    return Object.assign(createOriginParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: 'left',\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createTextPixiData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsTextTemp = window.createjs.Text;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Text.html\r\n */\r\nclass CreatejsText extends window.createjs.Text {\r\n    constructor(text, font, color) {\r\n        super(...arguments);\r\n        this._originParams = createTextOriginParam(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createTextPixiData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        CreatejsTextTemp.apply(this, arguments);\r\n    }\r\n    get text() {\r\n        return this._originParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._originParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        return {\r\n            fontSize: Number((p.shift() || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._originParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._originParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._originParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._originParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this.lineWidth / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this.lineWidth;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._originParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._originParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._originParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._originParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._originParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._originParams.lineWidth = width;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsText);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createTextPixiData({}, new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/ButtonHelper.html\r\n */\r\nclass CreatejsButtonHelper extends window.createjs.ButtonHelper {\r\n    constructor() {\r\n        super(...arguments);\r\n        const createjs = arguments[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = arguments[1];\r\n        const overFrame = arguments[2];\r\n        const downFrame = arguments[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = arguments[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * Prepare createjs content published with Adobe Animate.\r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction prepareAnimateAsync(id, basepath, options = {}) {\r\n    const comp = window.AdobeAn.getComposition(id);\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    if (!options.useSynchedTimeline) {\r\n        Object.defineProperties(window.createjs.MovieClip.prototype, {\r\n            updateForPixi: {\r\n                value: function (e) {\r\n                    return this._tick(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new window.createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(window.createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        /*\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].src = basepath + m[i].src;\r\n            }\r\n        }\r\n        */\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new window.createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\nfunction initializeAnimate(obj = {}) {\r\n    window.createjs.StageGL = CreatejsStageGL;\r\n    window.createjs.MovieClip = CreatejsMovieClip;\r\n    window.createjs.Sprite = CreatejsSprite;\r\n    window.createjs.Shape = CreatejsShape;\r\n    window.createjs.Bitmap = CreatejsBitmap;\r\n    window.createjs.Graphics = CreatejsGraphics;\r\n    window.createjs.Text = CreatejsText;\r\n    window.createjs.ButtonHelper = CreatejsButtonHelper;\r\n    for (let i in obj) {\r\n        window.createjs[i] = obj[i];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, initializeAnimate, prepareAnimateAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { prepareAnimateAsync, TAnimateLibrary, TPlayerOption, TTickerData } from '@tawaship/pixi-animate-core';\r\nimport { initStage } from '../common/core';\r\nimport * as _Pixim from '@tawaship/pixim.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nnamespace Pixim {\r\n\texport namespace animate {\r\n\t\t/**\r\n\t\t * @see https://tawaship.github.io/Pixim.js/classes/pixim.application.html\r\n\t\t */\r\n\t\texport class Player extends _Pixim.Application {\r\n\t\t\tprivate _id: string;\r\n\t\t\tprivate _rootClass: any;\r\n\t\t\tprivate _basepath: string;\r\n\t\t\tprivate _stage: any;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @param id \"lib.properties.id\" in Animate content.\r\n\t\t\t * @param rootName Root class name of Animate content.\r\n\t\t\t * @param basepath Directory path of Animate content.\r\n\t\t\t * @param pixiOptions Options of PIXI.Application.\r\n\t\t\t * @param piximOptions Options of Pixim.Application.\r\n\t\t\t */\r\n\t\t\tconstructor(id: string, rootName: string, basepath: string, pixiOptions: Object = {}, piximOptions: _Pixim.TApplicationOption = {}) {\r\n\t\t\t\tconst comp = window.AdobeAn.getComposition(id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error('no composition');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst lib: TAnimateLibrary = comp.getLibrary();\r\n\t\t\t\tconst root = lib[rootName];\r\n\t\t\t\tif (!root) {\r\n\t\t\t\t\tthrow new Error('no root class');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst prop = lib.properties;\r\n\t\t\t\t\r\n\t\t\t\tsuper(Object.assign(pixiOptions, {\r\n\t\t\t\t\twidth: prop.width,\r\n\t\t\t\t\theight: prop.height,\r\n\t\t\t\t\tbackgroundColor: parseInt(prop.color.slice(1), 16)\r\n\t\t\t\t}), piximOptions);\r\n\t\t\t\t\r\n\t\t\t\tthis.app.render();\r\n\t\t\t\t\r\n\t\t\t\tthis._id = id;\r\n\t\t\t\tthis._rootClass = root;\r\n\t\t\t\tthis._basepath = basepath;\r\n\t\t\t\t\r\n\t\t\t\twindow.createjs.Ticker.framerate = prop.fps;\r\n\t\t\t\t\r\n\t\t\t\tthis._handleTick = this._handleTick.bind(this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Prepare createjs content published with Adobe Animate.\r\n\t\t\t * @async\r\n\t\t\t * @see https://tawaship.github.io/pixi-animate-core/globals.html#tplayeroption\r\n\t\t\t */\r\n\t\t\tprepareAsync(options: TPlayerOption = {}) {\r\n\t\t\t\treturn prepareAnimateAsync(this._id, this._basepath, options)\r\n\t\t\t\t\t.then((lib: TAnimateLibrary) => {\r\n\t\t\t\t\t\tconst exportRoot = new this._rootClass();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._stage = new lib.Stage();\r\n\t\t\t\t\t\tinitStage(this._stage, options);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tObject.defineProperties(window, {\r\n\t\t\t\t\t\t\texportRoot: {\r\n\t\t\t\t\t\t\t\tvalue: exportRoot\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tstage: {\r\n\t\t\t\t\t\t\t\tvalue: this._stage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twindow.AdobeAn.compositionLoaded(lib.properties.id);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst Content = _Pixim.Content.create();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tContent.defineLibraries({\r\n\t\t\t\t\t\t\troot: class Root extends _Pixim.Container {\r\n\t\t\t\t\t\t\t\tconstructor($: any) {\r\n\t\t\t\t\t\t\t\t\tsuper();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.addChild($.vars.root);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst content = new Content();\r\n\t\t\t\t\t\tcontent.addVars({\r\n\t\t\t\t\t\t\troot: exportRoot.pixi\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._stage.addChild(exportRoot);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn this.attachAsync(content)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\treturn lib;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tplay() {\r\n\t\t\t\twindow.createjs.Ticker.addEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstop() {\r\n\t\t\t\twindow.createjs.Ticker.removeEventListener('tick', this._handleTick);\r\n\t\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate _handleTick(e: TTickerData) {\r\n\t\t\t\tthis._stage.updateForPixi(e);\r\n\t\t\t\tthis.app.render();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import Player = Pixim.animate.Player;","import { initializeAnimate } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\ninitializeAnimate();\r\n\r\nfunction playSound(id: string, loop: boolean = false) {\r\n\treturn window.createjs.Sound.play(id, {\r\n\t\tinterrupt: window.createjs.Sound.INTERRUPT_EARLY,\r\n\t\tloop: loop\r\n\t});\r\n}\r\n\r\nObject.defineProperties(window, {\r\n\tplaySound: {\r\n\t\tvalue: playSound\r\n\t}\r\n});\r\n\r\nexport {};","import * as PIXI from 'pixi.js';\r\nimport { TPlayerOption } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function initStage(stage: any, options: TPlayerOption = {}) {\r\n\tif (!options.useSynchedTimeline) {\r\n\t\tObject.defineProperties(window.createjs.StageGL.prototype, {\r\n\t\t\tupdateForPixi: {\r\n\t\t\t\tvalue: function(e) {\r\n\t\t\t\t\tthis._tick(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}"],"names":["createPixiData","regObj","events","updateDisplayObjectChildren","self","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","CreatejsStageGL","props","this","tickOnUpdate","tick","dispatchEvent","window","createjs","StageGL","_isDown","EventMap","mousedown","types","factory","cb","currentTarget","target","ev","data","rawX","global","x","rawY","y","rollover","rollout","pressmove","pressup","DEG_TO_RAD","Math","PI","appendixDescriptor","get","_originParams","set","value","_pixiData","instance","scaleX","scale","scaleY","skewX","skew","skewY","regX","regY","rotation","visible","alpha","_off","renderable","addEventListener","type","Function","func","t","push","origin","on","interactive","DisplayObject","prototype","apply","arguments","removeEventListener","j","off","splice","res","listeners","_listeners","let","removeAllEventListeners","removeAllListeners","_pixi","mask","masked","once","parent","addChild","filters","subInstance","f","ColorMatrixFilter","m","PIXI","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","Container","nc","_filterContainer","updateTransform","calculateBounds","b","getLocalBounds","cacheAsBitmap","removeChildren","v","appendDisplayObjectDescriptor","cls","Object","defineProperties","PixiMovieClip","cjs","super","_createjs","prototypeAccessors","createMovieClipPixiData","pixi","assign","pivot","CreatejsMovieClipTemp","MovieClip","CreatejsMovieClip","regx","regy","initialize","addChildAt","index","removeChild","removeChildAt","removeAllChldren","prototypeAccessors$1","_updateState","writable","PixiSprite","prototypeAccessors$2","Sprite","createSpritePixiData","anchor","CreatejsSpriteTemp","CreatejsSprite","gotoAndStop","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","prototypeAccessors$3","PixiShape","prototypeAccessors$4","createShapePixiData","CreatejsShapeTemp","Shape","CreatejsShape","prototypeAccessors$5","graphics","_graphics","PixiBitmap","prototypeAccessors$6","createBitmapPixiData","CreatejsBitmap","prototypeAccessors$7","Bitmap","PixiGraphics","prototypeAccessors$8","Graphics","createGraphicsPixiData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","DEG_TO_RAD$1","CreatejsGraphicsTemp","CreatejsGraphics","beginFill","moveTo","clone","endFill","containsPoint","beginHole","endHole","lineTo","arcTo","x1","y1","x2","y2","radius","arc","startAngle","endAngle","anticlockwise","quadraticCurveTo","cpx","cpy","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","w","h","drawRect","closePath","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","beginStroke","drawRoundRect","drawRoundedRect","drawCircle","drawEllipse","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","prototypeAccessors$9","curveTo","mt","lt","at","bt","qt","a","r","cp","ef","ss","s","dr","rr","dc","de","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createTextOriginParam","font","textAlign","lineHeight","lineWidth","createTextPixiData","CreatejsTextTemp","CreatejsText","_font","_parseFont","fontSize","fontFamily","fill","wordWrap","prototypeAccessors$11","_align","p","shift","style","align","height","wordWrapWidth","Pixim","CreatejsButtonHelper","baseFrame","overFrame","downFrame","hit","hitFrame","hitPixi","isOver","isDown","cursor","ButtonHelper","obj","initializeAnimate","playSound","id","loop","Sound","play","interrupt","INTERRUPT_EARLY","animate","Player","rootName","basepath","pixiOptions","piximOptions","comp","AdobeAn","getComposition","Error","lib","getLibrary","root","prop","properties","backgroundColor","app","render","_id","_rootClass","_basepath","Ticker","framerate","fps","_handleTick","bind","prepareAsync","options","useSynchedTimeline","_tick","Promise","resolve","reject","manifest","loader","LoadQueue","installPlugin","evt","images","getImages","item","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","prepareAnimateAsync","exportRoot","_stage","Stage","stage","initStage","compositionLoaded","Content","_Pixim.Content","create","defineLibraries","$","vars","content","addVars","attachAsync","stop","_Pixim.Application"],"mappings":"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"}